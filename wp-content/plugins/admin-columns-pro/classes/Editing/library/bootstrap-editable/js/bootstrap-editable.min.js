/*! X-editable - v1.5.1
* In-place editing with Twitter Bootstrap, jQuery UI or pure jQuery
* http://github.com/vitalets/x-editable
* Copyright (c) 2013 Vitaliy Potapov; Licensed MIT */
(function(c){var d=function(a,b){this.options=c.extend({},c.fn.editableform.defaults,b);this.$div=c(a);if(!this.options.scope){this.options.scope=this}};d.prototype={constructor:d,initInput:function(){this.input=this.options.input;this.value=this.input.str2value(this.options.value);this.input.prerender()},initTemplate:function(){this.$form=c(c.fn.editableform.template)},initButtons:function(){var a=this.$form.find(".editable-buttons");a.append(c.fn.editableform.buttons);if(this.options.showbuttons==="bottom"){a.addClass("editable-buttons-bottom")}},render:function(){this.$loading=c(c.fn.editableform.loading);this.$div.empty().append(this.$loading);this.initTemplate();if(this.options.showbuttons){this.initButtons()}else{this.$form.find(".editable-buttons").remove()}this.showLoading();this.isSaving=false;this.$div.triggerHandler("rendering");this.initInput();this.$form.find("div.editable-input").append(this.input.$tpl);this.$div.append(this.$form);c.when(this.input.render()).then(c.proxy(function(){if(!this.options.showbuttons){this.input.autosubmit()}this.$form.find(".editable-cancel").click(c.proxy(this.cancel,this));if(this.input.error){this.error(this.input.error);this.$form.find(".editable-submit").attr("disabled",true);this.input.$input.attr("disabled",true);this.$form.submit(function(b){b.preventDefault()})}else{this.error(false);this.input.$input.removeAttr("disabled");this.$form.find(".editable-submit").removeAttr("disabled");var a=(this.value===null||this.value===undefined||this.value==="")?this.options.defaultValue:this.value;this.input.value2input(a);this.$form.submit(c.proxy(this.submit,this))}this.$div.triggerHandler("rendered");this.showForm();if(this.input.postrender){this.input.postrender()}},this))},cancel:function(){this.$div.triggerHandler("cancel")},showLoading:function(){var b,a;if(this.$form){b=this.$form.outerWidth();a=this.$form.outerHeight();if(b){this.$loading.width(b)}if(a){this.$loading.height(a)}this.$form.hide()}else{b=this.$loading.parent().width();if(b){this.$loading.width(b)}}this.$loading.show()},showForm:function(a){this.$loading.hide();this.$form.show();if(a!==false){this.input.activate()}this.$div.triggerHandler("show")},error:function(a){var h=this.$form.find(".control-group"),b=this.$form.find(".editable-error-block"),j;if(a===false){h.removeClass(c.fn.editableform.errorGroupClass);b.removeClass(c.fn.editableform.errorBlockClass).empty().hide()}else{if(a){j=(""+a).split("\n");for(var i=0;i<j.length;i++){j[i]=c("<div>").text(j[i]).html()}a=j.join("<br>")}h.addClass(c.fn.editableform.errorGroupClass);b.addClass(c.fn.editableform.errorBlockClass).html(a).show()}},submit:function(a){a.stopPropagation();a.preventDefault();var b=this.input.input2value();var h=this.validate(b);if(c.type(h)==="object"&&h.newValue!==undefined){b=h.newValue;this.input.value2input(b);if(typeof h.msg==="string"){this.error(h.msg);this.showForm();return}}else{if(h){this.error(h);this.showForm();return}}if(!this.options.savenochange&&this.input.value2str(b)==this.input.value2str(this.value)){this.$div.triggerHandler("nochange");return}var e=this.input.value2submit(b);this.isSaving=true;c.when(this.save(e)).done(c.proxy(function(g){this.isSaving=false;var f=typeof this.options.success==="function"?this.options.success.call(this.options.scope,g,b):null;if(f===false){this.error(false);this.showForm(false);return}if(typeof f==="string"){this.error(f);this.showForm();return}if(f&&typeof f==="object"&&f.hasOwnProperty("newValue")){b=f.newValue}this.error(false);this.value=b;this.$div.triggerHandler("save",{newValue:b,submitValue:e,response:g})},this)).fail(c.proxy(function(f){this.isSaving=false;var g;if(typeof this.options.error==="function"){g=this.options.error.call(this.options.scope,f,b)}else{g=typeof f==="string"?f:f.responseText||f.statusText||"Unknown error!"}this.error(g);this.showForm()},this))},save:function(g){this.options.pk=c.fn.editableutils.tryParseJson(this.options.pk,true);var h=(typeof this.options.pk==="function")?this.options.pk.call(this.options.scope):this.options.pk,b=!!(typeof this.options.url==="function"||(this.options.url&&((this.options.send==="always")||(this.options.send==="auto"&&h!==null&&h!==undefined)))),a;if(b){this.showLoading();a={name:this.options.name||"",value:g,pk:h};if(typeof this.options.params==="function"){a=this.options.params.call(this.options.scope,a)}else{this.options.params=c.fn.editableutils.tryParseJson(this.options.params,true);c.extend(a,this.options.params)}if(typeof this.options.url==="function"){return this.options.url.call(this.options.scope,a)}else{return c.ajax(c.extend({url:this.options.url,data:a,type:"POST"},this.options.ajaxOptions))}}},validate:function(a){if(a===undefined){a=this.value}if(typeof this.options.validate==="function"){return this.options.validate.call(this.options.scope,a)}},option:function(b,a){if(b in this.options){this.options[b]=a}if(b==="value"){this.setValue(a)}},setValue:function(b,a){if(a){this.value=this.input.str2value(b)}else{this.value=b}if(this.$form&&this.$form.is(":visible")){this.input.value2input(this.value)}}};c.fn.editableform=function(a){var b=arguments;return this.each(function(){var h=c(this),i=h.data("editableform"),j=typeof a==="object"&&a;if(!i){h.data("editableform",(i=new d(this,j)))}if(typeof a==="string"){i[a].apply(i,Array.prototype.slice.call(b,1))}})};c.fn.editableform.Constructor=d;c.fn.editableform.defaults={type:"text",url:null,params:null,name:null,pk:null,value:null,defaultValue:null,send:"auto",validate:null,success:null,error:null,ajaxOptions:null,showbuttons:true,scope:null,savenochange:false};c.fn.editableform.template='<form class="form-inline editableform"><div class="control-group"><div><div class="editable-input"></div><div class="editable-buttons"></div></div><div class="editable-error-block"></div></div></form>';c.fn.editableform.loading='<div class="editableform-loading"></div>';c.fn.editableform.buttons='<button type="submit" class="editable-submit">ok</button><button type="button" class="editable-cancel">cancel</button>';c.fn.editableform.errorGroupClass=null;c.fn.editableform.errorBlockClass="editable-error";c.fn.editableform.engine="jquery"}(window.jQuery));(function(b){b.fn.editableutils={inherit:function(f,a){var e=function(){};e.prototype=a.prototype;f.prototype=new e();f.prototype.constructor=f;f.superclass=a.prototype},setCursorPosition:function(f,e){if(!b(f).is("textarea")){return}if(f.setSelectionRange){f.setSelectionRange(e,e)}else{if(f.createTextRange){var a=f.createTextRange();a.collapse(true);a.moveEnd("character",e);a.moveStart("character",e);a.select()}}},tryParseJson:function(a,f){if(typeof a==="string"&&a.length&&a.match(/^[\{\[].*[\}\]]$/)){if(f){try{a=(new Function("return "+a))()}catch(e){}finally{return a}}else{a=(new Function("return "+a))()}}return a},sliceObj:function(i,j,a){var k,l,n={};if(!b.isArray(j)||!j.length){return n}for(var m=0;m<j.length;m++){k=j[m];if(i.hasOwnProperty(k)){n[k]=i[k]}if(a===true){continue}l=k.toLowerCase();if(i.hasOwnProperty(l)){n[k]=i[l]}}return n},getConfigData:function(a){var d={};b.each(a.data(),function(c,f){if(typeof f!=="object"||(f&&typeof f==="object"&&(f.constructor===Object||f.constructor===Array))){d[c]=f}});return d},objectKeys:function(e){if(Object.keys){return Object.keys(e)}else{if(e!==Object(e)){throw new TypeError("Object.keys called on a non-object")}var a=[],f;for(f in e){if(Object.prototype.hasOwnProperty.call(e,f)){a.push(f)}}return a}},escape:function(a){return b("<div>").text(a).html()},itemsByValue:function(i,j,l){if(!j||i===null){return[]}if(typeof(l)!=="function"){var n=l||"value";l=function(c){return c[n]}}var m=b.isArray(i),a=[],k=this;b.each(j,function(e,c){if(c.children){a=a.concat(k.itemsByValue(i,c.children,l))}else{if(m){if(b.grep(i,function(f){return f==(c&&typeof c==="object"?l(c):c)}).length){a.push(c)}}else{var d=(c&&(typeof c==="object"))?l(c):c;if(i==d){a.push(c)}}}});return a},createInput:function(j){var h,g,a,i=j.type;if(i==="date"){if(j.mode==="inline"){if(b.fn.editabletypes.datefield){i="datefield"}else{if(b.fn.editabletypes.dateuifield){i="dateuifield"}}}else{if(b.fn.editabletypes.date){i="date"}else{if(b.fn.editabletypes.dateui){i="dateui"}}}if(i==="date"&&!b.fn.editabletypes.date){i="combodate"}}if(i==="datetime"&&j.mode==="inline"){i="datetimefield"}if(i==="wysihtml5"&&!b.fn.editabletypes[i]){i="textarea"}if(typeof b.fn.editabletypes[i]==="function"){h=b.fn.editabletypes[i];g=this.sliceObj(j,this.objectKeys(h.defaults));a=new h(g);return a}else{b.error("Unknown type: "+i);return false}},supportsTransitions:function(){var k=document.body||document.documentElement,h=k.style,a="transition",j=["Moz","Webkit","Khtml","O","ms"];if(typeof h[a]==="string"){return true}a=a.charAt(0).toUpperCase()+a.substr(1);for(var i=0;i<j.length;i++){if(typeof h[j[i]+a]==="string"){return true}}return false}}}(window.jQuery));(function(f){var d=function(a,b){this.init(a,b)};var e=function(a,b){this.init(a,b)};d.prototype={containerName:null,containerDataName:null,innerCss:null,containerClass:"editable-container editable-popup",defaults:{},init:function(a,b){this.$element=f(a);this.options=f.extend({},f.fn.editableContainer.defaults,b);this.splitOptions();this.formOptions.scope=this.$element[0];this.initContainer();this.delayedHide=false;this.$element.on("destroyed",f.proxy(function(){this.destroy()},this));if(!f(document).data("editable-handlers-attached")){f(document).on("keyup.editable",function(c){if(c.which===27){f(".editable-open").editableContainer("hide")}});f(document).on("click.editable",function(c){var l=f(c.target),k,i=[".editable-container",".ui-datepicker-header",".datepicker",".modal-backdrop",".bootstrap-wysihtml5-insert-image-modal",".bootstrap-wysihtml5-insert-link-modal"];if(!f.contains(document.documentElement,c.target)){return}if(l.is(document)){return}for(k=0;k<i.length;k++){if(l.is(i[k])||l.parents(i[k]).length){return}}d.prototype.closeOthers(c.target)});f(document).data("editable-handlers-attached",true)}},splitOptions:function(){this.containerOptions={};this.formOptions={};if(!f.fn[this.containerName]){throw new Error(this.containerName+" not found. Have you included corresponding js file?")}for(var a in this.options){if(a in this.defaults){this.containerOptions[a]=this.options[a]}else{this.formOptions[a]=this.options[a]}}},tip:function(){return this.container()?this.container().$tip:null},container:function(){var a;if(this.containerDataName){if(a=this.$element.data(this.containerDataName)){return a}}a=this.$element.data(this.containerName);return a},call:function(){this.$element[this.containerName].apply(this.$element,arguments)},initContainer:function(){this.call(this.containerOptions)},renderForm:function(){this.$form.editableform(this.formOptions).on({save:f.proxy(this.save,this),nochange:f.proxy(function(){this.hide("nochange")},this),cancel:f.proxy(function(){this.hide("cancel")},this),show:f.proxy(function(){if(this.delayedHide){this.hide(this.delayedHide.reason);this.delayedHide=false}else{this.setPosition()}},this),rendering:f.proxy(this.setPosition,this),resize:f.proxy(this.setPosition,this),rendered:f.proxy(function(){this.$element.triggerHandler("shown",f(this.options.scope).data("editable"))},this)}).editableform("render")},show:function(a){this.$element.addClass("editable-open");if(a!==false){this.closeOthers(this.$element[0])}this.innerShow();this.tip().addClass(this.containerClass);if(this.$form){}this.$form=f("<div>");if(this.tip().is(this.innerCss)){this.tip().append(this.$form)}else{this.tip().find(this.innerCss).append(this.$form)}this.renderForm()},hide:function(a){if(!this.tip()||!this.tip().is(":visible")||!this.$element.hasClass("editable-open")){return}if(this.$form.data("editableform").isSaving){this.delayedHide={reason:a};return}else{this.delayedHide=false}this.$element.removeClass("editable-open");this.innerHide();this.$element.triggerHandler("hidden",a||"manual")},innerShow:function(){},innerHide:function(){},toggle:function(a){if(this.container()&&this.tip()&&this.tip().is(":visible")){this.hide()}else{this.show(a)}},setPosition:function(){},save:function(b,a){this.$element.triggerHandler("save",a);this.hide("save")},option:function(b,a){this.options[b]=a;if(b in this.containerOptions){this.containerOptions[b]=a;this.setContainerOption(b,a)}else{this.formOptions[b]=a;if(this.$form){this.$form.editableform("option",b,a)}}},setContainerOption:function(b,a){this.call("option",b,a)},destroy:function(){this.hide();this.innerDestroy();this.$element.off("destroyed");this.$element.removeData("editableContainer")},innerDestroy:function(){},closeOthers:function(a){f(".editable-open").each(function(c,b){if(b===a||f(b).find(a).length){return}var i=f(b),j=i.data("editableContainer");if(!j){return}if(j.options.onblur==="cancel"){i.data("editableContainer").hide("onblur")}else{if(j.options.onblur==="submit"){i.data("editableContainer").tip().find("form").submit()}}})},activate:function(){if(this.tip&&this.tip().is(":visible")&&this.$form){this.$form.data("editableform").input.activate()}}};f.fn.editableContainer=function(a){var b=arguments;return this.each(function(){var l=f(this),c="editableContainer",m=l.data(c),n=typeof a==="object"&&a,k=(n.mode==="inline")?e:d;if(!m){l.data(c,(m=new k(this,n)))}if(typeof a==="string"){m[a].apply(m,Array.prototype.slice.call(b,1))}})};f.fn.editableContainer.Popup=d;f.fn.editableContainer.Inline=e;f.fn.editableContainer.defaults={value:null,placement:"top",autohide:true,onblur:"cancel",anim:false,mode:"popup"};jQuery.event.special.destroyed={remove:function(a){if(a.handler){a.handler()}}}}(window.jQuery));(function(b){b.extend(b.fn.editableContainer.Inline.prototype,b.fn.editableContainer.Popup.prototype,{containerName:"editableform",innerCss:".editable-inline",containerClass:"editable-container editable-inline",initContainer:function(){this.$tip=b("<span></span>");if(!this.options.anim){this.options.anim=0}},splitOptions:function(){this.containerOptions={};this.formOptions=this.options},tip:function(){return this.$tip},innerShow:function(){this.$element.hide();this.tip().insertAfter(this.$element).show()},innerHide:function(){this.$tip.hide(this.options.anim,b.proxy(function(){this.$element.show();this.innerDestroy()},this))},innerDestroy:function(){if(this.tip()){this.tip().empty().remove()}}})}(window.jQuery));(function(c){var d=function(a,b){this.$element=c(a);this.options=c.extend({},c.fn.editable.defaults,b,c.fn.editableutils.getConfigData(this.$element));if(this.options.selector){this.initLive()}else{this.init()}if(this.options.highlight&&!c.fn.editableutils.supportsTransitions()){this.options.highlight=false}};d.prototype={constructor:d,init:function(){var f=false,b,a;this.options.name=this.options.name||this.$element.attr("id");this.options.scope=this.$element[0];this.input=c.fn.editableutils.createInput(this.options);if(!this.input){return}if(this.options.value===undefined||this.options.value===null){this.value=this.input.html2value(c.trim(this.$element.html()));f=true}else{this.options.value=c.fn.editableutils.tryParseJson(this.options.value,true);if(typeof this.options.value==="string"){this.value=this.input.str2value(this.options.value)}else{this.value=this.options.value}}this.$element.addClass("editable");if(this.input.type==="textarea"){this.$element.addClass("editable-pre-wrapped")}if(this.options.toggle!=="manual"){this.$element.addClass("editable-click");this.$element.on(this.options.toggle+".editable",c.proxy(function(e){if(!this.options.disabled){e.preventDefault()}if(this.options.toggle==="mouseenter"){this.show()}else{var h=(this.options.toggle!=="click");this.toggle(h)}},this))}else{this.$element.attr("tabindex",-1)}if(typeof this.options.display==="function"){this.options.autotext="always"}switch(this.options.autotext){case"always":b=true;break;case"auto":b=!c.trim(this.$element.text()).length&&this.value!==null&&this.value!==undefined&&!f;break;default:b=false}c.when(b?this.render():true).then(c.proxy(function(){if(this.options.disabled){this.disable()}else{this.enable()}this.$element.triggerHandler("init",this)},this))},initLive:function(){var a=this.options.selector;this.options.selector=false;this.options.autotext="never";this.$element.on(this.options.toggle+".editable",a,c.proxy(function(b){var e=c(b.target);if(!e.data("editable")){if(e.hasClass(this.options.emptyclass)){e.empty()}e.editable(this.options).trigger(b)}},this))},render:function(a){if(this.options.display===false){return}if(this.input.value2htmlFinal){return this.input.value2html(this.value,this.$element[0],this.options.display,a)}else{if(typeof this.options.display==="function"){return this.options.display.call(this.$element[0],this.value,a)}else{return this.input.value2html(this.value,this.$element[0])}}},enable:function(){this.options.disabled=false;this.$element.removeClass("editable-disabled");this.handleEmpty(this.isEmpty);if(this.options.toggle!=="manual"){if(this.$element.attr("tabindex")==="-1"){this.$element.removeAttr("tabindex")}}},disable:function(){this.options.disabled=true;this.hide();this.$element.addClass("editable-disabled");this.handleEmpty(this.isEmpty);this.$element.attr("tabindex",-1)},toggleDisabled:function(){if(this.options.disabled){this.enable()}else{this.disable()}},option:function(b,a){if(b&&typeof b==="object"){c.each(b,c.proxy(function(g,h){this.option(c.trim(g),h)},this));return}this.options[b]=a;if(b==="disabled"){return a?this.disable():this.enable()}if(b==="value"){this.setValue(a)}if(this.container){this.container.option(b,a)}if(this.input.option){this.input.option(b,a)}},handleEmpty:function(a){if(this.options.display===false){return}if(a!==undefined){this.isEmpty=a}else{if(typeof(this.input.isEmpty)==="function"){this.isEmpty=this.input.isEmpty(this.$element)}else{this.isEmpty=c.trim(this.$element.html())===""}}if(!this.options.disabled){if(this.isEmpty){this.$element.html(this.options.emptytext);if(this.options.emptyclass){this.$element.addClass(this.options.emptyclass)}}else{if(this.options.emptyclass){this.$element.removeClass(this.options.emptyclass)}}}else{if(this.isEmpty){this.$element.empty();if(this.options.emptyclass){this.$element.removeClass(this.options.emptyclass)}}}},show:function(b){if(this.options.disabled){return}if(!this.container){var a=c.extend({},this.options,{value:this.value,input:this.input});this.$element.editableContainer(a);this.$element.on("save.internal",c.proxy(this.save,this));this.container=this.$element.data("editableContainer")}else{if(this.container.tip().is(":visible")){return}}this.container.show(b)},hide:function(){if(this.container){this.container.hide()}},toggle:function(a){if(this.container&&this.container.tip().is(":visible")){this.hide()}else{this.show(a)}},save:function(b,a){if(this.options.unsavedclass){var i=false;i=i||typeof this.options.url==="function";i=i||this.options.display===false;i=i||a.response!==undefined;i=i||(this.options.savenochange&&this.input.value2str(this.value)!==this.input.value2str(a.newValue));if(i){this.$element.removeClass(this.options.unsavedclass)}else{this.$element.addClass(this.options.unsavedclass)}}if(this.options.highlight){var j=this.$element,e=j.css("background-color");j.css("background-color",this.options.highlight);setTimeout(function(){if(e==="transparent"){e=""}j.css("background-color",e);j.addClass("editable-bg-transition");setTimeout(function(){j.removeClass("editable-bg-transition")},1700)},10)}this.setValue(a.newValue,false,a.response)},validate:function(){if(typeof this.options.validate==="function"){return this.options.validate.call(this,this.value)}},setValue:function(b,a,f){if(a){this.value=this.input.str2value(b)}else{this.value=b}if(this.container){this.container.option("value",this.value)}c.when(this.render(f)).then(c.proxy(function(){this.handleEmpty()},this))},activate:function(){if(this.container){this.container.activate()}},destroy:function(){this.disable();if(this.container){this.container.destroy()}this.input.destroy();if(this.options.toggle!=="manual"){this.$element.removeClass("editable-click");this.$element.off(this.options.toggle+".editable")}this.$element.off("save.internal");this.$element.removeClass("editable editable-open editable-disabled");this.$element.removeData("editable")}};c.fn.editable=function(p){var a={},o=arguments,q="editable";switch(p){case"validate":this.each(function(){var e=c(this),f=e.data(q),g;if(f&&(g=f.validate())){a[f.options.name]=g}});return a;case"getValue":if(arguments.length===2&&arguments[1]===true){a=this.eq(0).data(q).value}else{this.each(function(){var e=c(this),f=e.data(q);if(f&&f.value!==undefined&&f.value!==null){a[f.options.name]=f.input.value2submit(f.value)}})}return a;case"submit":var t=arguments[1]||{},v=this,n=this.editable("validate");if(c.isEmptyObject(n)){var s={};if(v.length===1){var u=v.data("editable");var r={name:u.options.name||"",value:u.input.value2submit(u.value),pk:(typeof u.options.pk==="function")?u.options.pk.call(u.options.scope):u.options.pk};if(typeof u.options.params==="function"){r=u.options.params.call(u.options.scope,r)}else{u.options.params=c.fn.editableutils.tryParseJson(u.options.params,true);c.extend(r,u.options.params)}s={url:u.options.url,data:r,type:"POST"};t.success=t.success||u.options.success;t.error=t.error||u.options.error}else{var b=this.editable("getValue");s={url:t.url,data:b,type:"POST"}}s.success=typeof t.success==="function"?function(e){t.success.call(v,e,t)}:c.noop;s.error=typeof t.error==="function"?function(){t.error.apply(v,arguments)}:c.noop;if(t.ajaxOptions){c.extend(s,t.ajaxOptions)}if(t.data){c.extend(s.data,t.data)}c.ajax(s)}else{if(typeof t.error==="function"){t.error.call(v,n)}}return this}return this.each(function(){var e=c(this),f=e.data(q),g=typeof p==="object"&&p;if(g&&g.selector){f=new d(this,g);return}if(!f){e.data(q,(f=new d(this,g)))}if(typeof p==="string"){f[p].apply(f,Array.prototype.slice.call(o,1))}})};c.fn.editable.defaults={type:"text",disabled:false,toggle:"click",emptytext:"Empty",autotext:"auto",value:null,display:null,emptyclass:"editable-empty",unsavedclass:"editable-unsaved",selector:null,highlight:"#FFFF80"}}(window.jQuery));(function(c){c.fn.editabletypes={};var d=function(){};d.prototype={init:function(b,f,a){this.type=b;this.options=c.extend({},a,f)},prerender:function(){this.$tpl=c(this.options.tpl);this.$input=this.$tpl;this.$clear=null;this.error=null},render:function(){},value2html:function(a,b){c(b)[this.options.escape?"text":"html"](c.trim(a))},html2value:function(a){return c("<div>").html(a).text()},value2str:function(a){return a},str2value:function(a){return a},value2submit:function(a){return a},value2input:function(a){this.$input.val(a)},input2value:function(){return this.$input.val()},activate:function(){if(this.$input.is(":visible")){this.$input.focus()}},clear:function(){this.$input.val(null)},escape:function(a){return c("<div>").text(a).html()},autosubmit:function(){},destroy:function(){},setClass:function(){if(this.options.inputclass){this.$input.addClass(this.options.inputclass)}},setAttr:function(a){if(this.options[a]!==undefined&&this.options[a]!==null){this.$input.attr(a,this.options[a])}},option:function(b,a){this.options[b]=a}};d.defaults={tpl:"",inputclass:null,escape:true,scope:null,showbuttons:true};c.extend(c.fn.editabletypes,{abstractinput:d})}(window.jQuery));(function(c){var d=function(a){};c.fn.editableutils.inherit(d,c.fn.editabletypes.abstractinput);c.extend(d.prototype,{render:function(){var a=c.Deferred();this.error=null;this.onSourceReady(function(){this.renderList();a.resolve()},function(){this.error=this.options.sourceError;a.resolve()});return a.promise()},html2value:function(a){return null},value2html:function(i,j,b,k){var l=c.Deferred(),a=function(){if(typeof b==="function"){b.call(j,i,this.sourceData,k)}else{this.value2htmlFinal(i,j)}l.resolve()};if(i===null){a.call(this)}else{this.onSourceReady(a,function(){l.resolve()})}return l.promise()},onSourceReady:function(a,l){var k;if(c.isFunction(this.options.source)){k=this.options.source.call(this.options.scope);this.sourceData=null}else{k=this.options.source}if(this.options.sourceCache&&c.isArray(this.sourceData)){a.call(this);return}try{k=c.fn.editableutils.tryParseJson(k,false)}catch(b){l.call(this);return}if(typeof k==="string"){if(this.options.sourceCache){var e=k,m;if(!c(document).data(e)){c(document).data(e,{})}m=c(document).data(e);if(m.loading===false&&m.sourceData){this.sourceData=m.sourceData;this.doPrepend();a.call(this);return}else{if(m.loading===true){m.callbacks.push(c.proxy(function(){this.sourceData=m.sourceData;this.doPrepend();a.call(this)},this));m.err_callbacks.push(c.proxy(l,this));return}else{m.loading=true;m.callbacks=[];m.err_callbacks=[]}}}var n=c.extend({url:k,type:"get",cache:false,dataType:"json",success:c.proxy(function(f){if(m){m.loading=false}this.sourceData=this.makeArray(f);if(c.isArray(this.sourceData)){if(m){m.sourceData=this.sourceData;c.each(m.callbacks,function(){this.call()})}this.doPrepend();a.call(this)}else{l.call(this);if(m){c.each(m.err_callbacks,function(){this.call()})}}},this),error:c.proxy(function(){l.call(this);if(m){m.loading=false;c.each(m.err_callbacks,function(){this.call()})}},this)},this.options.sourceOptions);c.ajax(n)}else{this.sourceData=this.makeArray(k);if(c.isArray(this.sourceData)){this.doPrepend();a.call(this)}else{l.call(this)}}},doPrepend:function(){if(this.options.prepend===null||this.options.prepend===undefined){return}if(!c.isArray(this.prependData)){if(c.isFunction(this.options.prepend)){this.options.prepend=this.options.prepend.call(this.options.scope)}this.options.prepend=c.fn.editableutils.tryParseJson(this.options.prepend,true);if(typeof this.options.prepend==="string"){this.options.prepend={"":this.options.prepend}}this.prependData=this.makeArray(this.options.prepend)}if(c.isArray(this.prependData)&&c.isArray(this.sourceData)){this.sourceData=this.prependData.concat(this.sourceData)}},renderList:function(){},value2htmlFinal:function(a,b){},makeArray:function(b){var i,a,n=[],k,m;if(!b||typeof b==="string"){return null}if(c.isArray(b)){m=function(e,f){a={value:e,text:f};if(i++>=2){return false}};for(var l=0;l<b.length;l++){k=b[l];if(typeof k==="object"){i=0;c.each(k,m);if(i===1){n.push(a)}else{if(i>1){if(k.children){k.children=this.makeArray(k.children)}n.push(k)}}}else{n.push({value:k,text:k})}}}else{c.each(b,function(e,f){n.push({value:e,text:f})})}return n},option:function(b,a){this.options[b]=a;if(b==="source"){this.sourceData=null}if(b==="prepend"){this.prependData=null}}});d.defaults=c.extend({},c.fn.editabletypes.abstractinput.defaults,{source:null,prepend:false,sourceError:"Error when loading list",sourceCache:true,sourceOptions:null});c.fn.editabletypes.list=d}(window.jQuery));(function(c){var d=function(a){this.init("text",a,d.defaults)};c.fn.editableutils.inherit(d,c.fn.editabletypes.abstractinput);c.extend(d.prototype,{render:function(){this.renderClear();this.setClass();this.setAttr("placeholder")},activate:function(){if(this.$input.is(":visible")){this.$input.focus();c.fn.editableutils.setCursorPosition(this.$input.get(0),this.$input.val().length);if(this.toggleClear){this.toggleClear()}}},renderClear:function(){if(this.options.clear){this.$clear=c('<span class="editable-clear-x"></span>');this.$input.after(this.$clear).css("padding-right",24).keyup(c.proxy(function(a){if(~c.inArray(a.keyCode,[40,38,9,13,27])){return}clearTimeout(this.t);var b=this;this.t=setTimeout(function(){b.toggleClear(a)},100)},this)).parent().css("position","relative");this.$clear.click(c.proxy(this.clear,this))}},postrender:function(){},toggleClear:function(b){if(!this.$clear){return}var e=this.$input.val().length,a=this.$clear.is(":visible");if(e&&!a){this.$clear.show()}if(!e&&a){this.$clear.hide()}},clear:function(){this.$clear.hide();this.$input.val("").focus()}});d.defaults=c.extend({},c.fn.editabletypes.abstractinput.defaults,{tpl:'<input type="text">',placeholder:null,clear:true});c.fn.editabletypes.text=d}(window.jQuery));(function(c){var d=function(a){this.init("textarea",a,d.defaults)};c.fn.editableutils.inherit(d,c.fn.editabletypes.abstractinput);c.extend(d.prototype,{render:function(){this.setClass();this.setAttr("placeholder");this.setAttr("rows");this.$input.keydown(function(a){if(a.ctrlKey&&a.which===13){c(this).closest("form").submit()}})},activate:function(){c.fn.editabletypes.text.prototype.activate.call(this)}});d.defaults=c.extend({},c.fn.editabletypes.abstractinput.defaults,{tpl:"<textarea></textarea>",inputclass:"input-large",placeholder:null,rows:7});c.fn.editabletypes.textarea=d}(window.jQuery));(function(d){var c=function(a){this.init("select",a,c.defaults)};d.fn.editableutils.inherit(c,d.fn.editabletypes.list);d.extend(c.prototype,{renderList:function(){this.$input.empty();var a=function(h,b){var j;if(d.isArray(b)){for(var i=0;i<b.length;i++){j={};if(b[i].children){j.label=b[i].text;h.append(a(d("<optgroup>",j),b[i].children))}else{j.value=b[i].value;if(b[i].disabled){j.disabled=true}h.append(d("<option>",j).text(b[i].text))}}}return h};a(this.$input,this.sourceData);this.setClass();this.$input.on("keydown.editable",function(b){if(b.which===13){d(this).closest("form").submit()}})},value2htmlFinal:function(b,g){var a="",h=d.fn.editableutils.itemsByValue(b,this.sourceData);if(h.length){a=h[0].text}d.fn.editabletypes.abstractinput.prototype.value2html.call(this,a,g)},autosubmit:function(){this.$input.off("keydown.editable").on("change.editable",function(){d(this).closest("form").submit()})}});c.defaults=d.extend({},d.fn.editabletypes.list.defaults,{tpl:"<select></select>"});d.fn.editabletypes.select=c}(window.jQuery));(function(c){var d=function(a){this.init("checklist",a,d.defaults)};c.fn.editableutils.inherit(d,c.fn.editabletypes.list);c.extend(d.prototype,{renderList:function(){var f,b;this.$tpl.empty();if(!c.isArray(this.sourceData)){return}for(var a=0;a<this.sourceData.length;a++){f=c("<label>").append(c("<input>",{type:"checkbox",value:this.sourceData[a].value})).append(c("<span>").text(" "+this.sourceData[a].text));c("<div>").append(f).appendTo(this.$tpl)}this.$input=this.$tpl.find('input[type="checkbox"]');this.setClass()},value2str:function(a){return c.isArray(a)?a.sort().join(c.trim(this.options.separator)):""},str2value:function(a){var f,b=null;if(typeof a==="string"&&a.length){f=new RegExp("\\s*"+c.trim(this.options.separator)+"\\s*");b=a.split(f)}else{if(c.isArray(a)){b=a}else{b=[a]}}return b},value2input:function(a){this.$input.prop("checked",false);if(c.isArray(a)&&a.length){this.$input.each(function(g,b){var h=c(b);c.each(a,function(f,e){if(h.val()==e){h.prop("checked",true)}})})}},input2value:function(){var a=[];this.$input.filter(":checked").each(function(f,b){a.push(c(b).val())});return a},value2htmlFinal:function(a,i){var j=[],b=c.fn.editableutils.itemsByValue(a,this.sourceData),h=this.options.escape;if(b.length){c.each(b,function(f,g){var e=h?c.fn.editableutils.escape(g.text):g.text;j.push(e)});c(i).html(j.join("<br>"))}else{c(i).empty()}},activate:function(){this.$input.first().focus()},autosubmit:function(){this.$input.on("keydown",function(a){if(a.which===13){c(this).closest("form").submit()}})}});d.defaults=c.extend({},c.fn.editabletypes.list.defaults,{tpl:'<div class="editable-checklist"></div>',inputclass:null,separator:","});c.fn.editabletypes.checklist=d}(window.jQuery));(function(c){var d=function(a){this.init("password",a,d.defaults)};c.fn.editableutils.inherit(d,c.fn.editabletypes.text);c.extend(d.prototype,{value2html:function(a,b){if(a){c(b).text("[hidden]")}else{c(b).empty()}},html2value:function(a){return null}});d.defaults=c.extend({},c.fn.editabletypes.text.defaults,{tpl:'<input type="password">'});c.fn.editabletypes.password=d}(window.jQuery));(function(d){var c=function(a){this.init("email",a,c.defaults)};d.fn.editableutils.inherit(c,d.fn.editabletypes.text);c.defaults=d.extend({},d.fn.editabletypes.text.defaults,{tpl:'<input type="email">'});d.fn.editabletypes.email=c}(window.jQuery));(function(d){var c=function(a){this.init("url",a,c.defaults)};d.fn.editableutils.inherit(c,d.fn.editabletypes.text);c.defaults=d.extend({},d.fn.editabletypes.text.defaults,{tpl:'<input type="url">'});d.fn.editabletypes.url=c}(window.jQuery));(function(d){var c=function(a){this.init("tel",a,c.defaults)};d.fn.editableutils.inherit(c,d.fn.editabletypes.text);c.defaults=d.extend({},d.fn.editabletypes.text.defaults,{tpl:'<input type="tel">'});d.fn.editabletypes.tel=c}(window.jQuery));(function(d){var c=function(a){this.init("number",a,c.defaults)};d.fn.editableutils.inherit(c,d.fn.editabletypes.text);d.extend(c.prototype,{render:function(){c.superclass.render.call(this);this.setAttr("min");this.setAttr("max");this.setAttr("step")},postrender:function(){if(this.$clear){this.$clear.css({right:24})}}});c.defaults=d.extend({},d.fn.editabletypes.text.defaults,{tpl:'<input type="number">',inputclass:"input-mini",min:null,max:null,step:null});d.fn.editabletypes.number=c}(window.jQuery));(function(d){var c=function(a){this.init("range",a,c.defaults)};d.fn.editableutils.inherit(c,d.fn.editabletypes.number);d.extend(c.prototype,{render:function(){this.$input=this.$tpl.filter("input");this.setClass();this.setAttr("min");this.setAttr("max");this.setAttr("step");this.$input.on("input",function(){d(this).siblings("output").text(d(this).val())})},activate:function(){this.$input.focus()}});c.defaults=d.extend({},d.fn.editabletypes.number.defaults,{tpl:'<input type="range"><output style="width: 30px; display: inline-block"></output>',inputclass:"input-medium"});d.fn.editabletypes.range=c}(window.jQuery));(function(c){var d=function(a){this.init("time",a,d.defaults)};c.fn.editableutils.inherit(d,c.fn.editabletypes.abstractinput);c.extend(d.prototype,{render:function(){this.setClass()}});d.defaults=c.extend({},c.fn.editabletypes.abstractinput.defaults,{tpl:'<input type="time">'});c.fn.editabletypes.time=d}(window.jQuery));(function(d){var c=function(b){this.init("select2",b,c.defaults);b.select2=b.select2||{};this.sourceData=null;if(b.placeholder){b.select2.placeholder=b.placeholder}if(!b.select2.tags&&b.source){var a=b.source;if(d.isFunction(b.source)){a=b.source.call(b.scope)}if(typeof a==="string"){b.select2.ajax=b.select2.ajax||{};if(!b.select2.ajax.data){b.select2.ajax.data=function(e){return{query:e}}}if(!b.select2.ajax.results){b.select2.ajax.results=function(e){return{results:e}}}b.select2.ajax.url=a}else{this.sourceData=this.convertSource(a);b.select2.data=this.sourceData}}this.options.select2=d.extend({},c.defaults.select2,b.select2);this.isMultiple=this.options.select2.tags||this.options.select2.multiple;this.isRemote=("ajax" in this.options.select2);this.idFunc=this.options.select2.id;if(typeof(this.idFunc)!=="function"){var f=this.idFunc||"id";this.idFunc=function(e){return e[f]}}this.formatSelection=this.options.select2.formatSelection;if(typeof(this.formatSelection)!=="function"){this.formatSelection=function(e){return e.text}}};d.fn.editableutils.inherit(c,d.fn.editabletypes.abstractinput);d.extend(c.prototype,{render:function(){this.setClass();if(this.isRemote){this.$input.on("select2-loaded",d.proxy(function(a){this.sourceData=a.items.results},this))}if(this.isMultiple){this.$input.on("change",function(){d(this).closest("form").parent().triggerHandler("resize")})}},value2html:function(b,j){var a="",h,i=this;if(this.options.select2.tags){h=b}else{if(this.sourceData){h=d.fn.editableutils.itemsByValue(b,this.sourceData,this.idFunc)}else{}}if(d.isArray(h)){a=[];d.each(h,function(e,f){a.push(f&&typeof f==="object"?i.formatSelection(f):f)})}else{if(h){a=i.formatSelection(h)}}a=d.isArray(a)?a.join(this.options.viewseparator):a;c.superclass.value2html.call(this,a,j)},html2value:function(a){return this.options.select2.tags?this.str2value(a,this.options.viewseparator):null},value2input:function(b){if(d.isArray(b)){b=b.join(this.getSeparator())}if(!this.$input.data("select2")){this.$input.val(b);this.$input.select2(this.options.select2)}else{this.$input.val(b).trigger("change",true)}if(this.isRemote&&!this.isMultiple&&!this.options.select2.initSelection){var a=this.options.select2.id,j=this.options.select2.formatSelection;if(!a&&!j){var i=d(this.options.scope);if(!i.data("editable").isEmpty){var h={id:b,text:i.text()};this.$input.select2("data",h)}}}},input2value:function(){return this.$input.select2("val")},str2value:function(a,h){if(typeof a!=="string"||!this.isMultiple){return a}h=h||this.getSeparator();var b,i,j;if(a===null||a.length<1){return null}b=a.split(h);for(i=0,j=b.length;i<j;i=i+1){b[i]=d.trim(b[i])}return b},autosubmit:function(){this.$input.on("change",function(a,b){if(!b){d(this).closest("form").submit()}})},getSeparator:function(){return this.options.select2.separator||d.fn.select2.defaults.separator},convertSource:function(a){if(d.isArray(a)&&a.length&&a[0].value!==undefined){for(var b=0;b<a.length;b++){if(a[b].value!==undefined){a[b].id=a[b].value;delete a[b].value}}}return a},destroy:function(){if(this.$input.data("select2")){this.$input.select2("destroy")}}});c.defaults=d.extend({},d.fn.editabletypes.abstractinput.defaults,{tpl:'<input type="hidden">',select2:null,placeholder:null,source:null,viewseparator:", "});d.fn.editabletypes.select2=c}(window.jQuery));(function(c){var d=function(a,b){this.$element=c(a);if(!this.$element.is("input")){c.error("Combodate should be applied to INPUT element");return}this.options=c.extend({},c.fn.combodate.defaults,b,this.$element.data());this.init()};d.prototype={constructor:d,init:function(){this.map={day:["D","date"],month:["M","month"],year:["Y","year"],hour:["[Hh]","hours"],minute:["m","minutes"],second:["s","seconds"],ampm:["[Aa]",""]};this.$widget=c('<span class="combodate"></span>').html(this.getTemplate());this.initCombos();this.$widget.on("change","select",c.proxy(function(a){this.$element.val(this.getValue()).change();if(this.options.smartDays){if(c(a.target).is(".month")||c(a.target).is(".year")){this.fillCombo("day")}}},this));this.$widget.find("select").css("width","auto");this.$element.hide().after(this.$widget);this.setValue(this.$element.val()||this.options.value)},getTemplate:function(){var a=this.options.template;c.each(this.map,function(i,j){j=j[0];var b=new RegExp(j+"+"),h=j.length>1?j.substring(1,2):j;a=a.replace(b,"{"+h+"}")});a=a.replace(/ /g,"&nbsp;");c.each(this.map,function(g,h){h=h[0];var b=h.length>1?h.substring(1,2):h;a=a.replace("{"+b+"}",'<select class="'+g+'"></select>')});return a},initCombos:function(){for(var b in this.map){var a=this.$widget.find("."+b);this["$"+b]=a.length?a:null;this.fillCombo(b)}},fillCombo:function(k){var f=this["$"+k];if(!f){return}var a="fill"+k.charAt(0).toUpperCase()+k.slice(1);var l=this[a]();var b=f.val();f.empty();for(var i=0;i<l.length;i++){f.append('<option value="'+l[i][0]+'">'+l[i][1]+"</option>")}f.val(b)},fillCommon:function(g){var h=[],b;if(this.options.firstItem==="name"){b=moment.relativeTime||moment.langData()._relativeTime;var a=typeof b[g]==="function"?b[g](1,true,g,false):b[g];a=a.split(" ").reverse()[0];h.push(["",a])}else{if(this.options.firstItem==="empty"){h.push(["",""])}}return h},fillDay:function(){var m=this.fillCommon("d"),l,k,n=this.options.template.indexOf("DD")!==-1,b=31;if(this.options.smartDays&&this.$month&&this.$year){var a=parseInt(this.$month.val(),10);var i=parseInt(this.$year.val(),10);if(!isNaN(a)&&!isNaN(i)){b=moment([i,a]).daysInMonth()}}for(k=1;k<=b;k++){l=n?this.leadZero(k):k;m.push([k,l])}return m},fillMonth:function(){var k=this.fillCommon("M"),j,i,a=this.options.template.indexOf("MMMM")!==-1,b=this.options.template.indexOf("MMM")!==-1,l=this.options.template.indexOf("MM")!==-1;for(i=0;i<=11;i++){if(a){j=moment().date(1).month(i).format("MMMM")}else{if(b){j=moment().date(1).month(i).format("MMM")}else{if(l){j=this.leadZero(i+1)}else{j=i+1}}}k.push([i,j])}return k},fillYear:function(){var h=[],g,b,a=this.options.template.indexOf("YYYY")!==-1;for(b=this.options.maxYear;b>=this.options.minYear;b--){g=a?b:(b+"").substring(2);h[this.options.yearDescending?"push":"unshift"]([b,g])}h=this.fillCommon("y").concat(h);return h},fillHour:function(){var n=this.fillCommon("h"),m,i,a=this.options.template.indexOf("h")!==-1,b=this.options.template.indexOf("H")!==-1,o=this.options.template.toLowerCase().indexOf("hh")!==-1,l=a?1:0,p=a?12:23;for(i=l;i<=p;i++){m=o?this.leadZero(i):i;n.push([i,m])}return n},fillMinute:function(){var g=this.fillCommon("m"),b,a,h=this.options.template.indexOf("mm")!==-1;for(a=0;a<=59;a+=this.options.minuteStep){b=h?this.leadZero(a):a;g.push([a,b])}return g},fillSecond:function(){var g=this.fillCommon("s"),b,a,h=this.options.template.indexOf("ss")!==-1;for(a=0;a<=59;a+=this.options.secondStep){b=h?this.leadZero(a):a;g.push([a,b])}return g},fillAmpm:function(){var b=this.options.template.indexOf("a")!==-1,a=this.options.template.indexOf("A")!==-1,f=[["am",b?"am":"AM"],["pm",b?"pm":"PM"]];return f},getValue:function(b){var h,j={},i=this,a=false;c.each(this.map,function(f,g){if(f==="ampm"){return}var e=f==="day"?1:0;j[f]=i["$"+f]?parseInt(i["$"+f].val(),10):e;if(isNaN(j[f])){a=true;return false}});if(a){return""}if(this.$ampm){if(j.hour===12){j.hour=this.$ampm.val()==="am"?0:12}else{j.hour=this.$ampm.val()==="am"?j.hour:j.hour+12}}h=moment([j.year,j.month,j.day,j.hour,j.minute,j.second]);this.highlight(h);b=b===undefined?this.options.format:b;if(b===null){return h.isValid()?h:null}else{return h.isValid()?h.format(b):""}},setValue:function(b){if(!b){return}var h=typeof b==="string"?moment(b,this.options.format):moment(b),i=this,j={};function a(g,f){var e={};g.children("option").each(function(p,q){var o=c(q).attr("value"),r;if(o===""){return}r=Math.abs(o-f);if(typeof e.distance==="undefined"||r<e.distance){e={value:o,distance:r}}});return e.value}if(h.isValid()){c.each(this.map,function(e,f){if(e==="ampm"){return}j[e]=h[f[1]]()});if(this.$ampm){if(j.hour>=12){j.ampm="pm";if(j.hour>12){j.hour-=12}}else{j.ampm="am";if(j.hour===0){j.hour=12}}}c.each(j,function(e,f){if(i["$"+e]){if(e==="minute"&&i.options.minuteStep>1&&i.options.roundTime){f=a(i["$"+e],f)}if(e==="second"&&i.options.secondStep>1&&i.options.roundTime){f=a(i["$"+e],f)}i["$"+e].val(f)}});if(this.options.smartDays){this.fillCombo("day")}this.$element.val(h.format(this.options.format)).change()}},highlight:function(a){if(!a.isValid()){if(this.options.errorClass){this.$widget.addClass(this.options.errorClass)}else{if(!this.borderColor){this.borderColor=this.$widget.find("select").css("border-color")}this.$widget.find("select").css("border-color","red")}}else{if(this.options.errorClass){this.$widget.removeClass(this.options.errorClass)}else{this.$widget.find("select").css("border-color",this.borderColor)}}},leadZero:function(a){return a<=9?"0"+a:a},destroy:function(){this.$widget.remove();this.$element.removeData("combodate").show()}};c.fn.combodate=function(b){var a,g=Array.apply(null,arguments);g.shift();if(b==="getValue"&&this.length&&(a=this.eq(0).data("combodate"))){return a.getValue.apply(a,g)}return this.each(function(){var e=c(this),f=e.data("combodate"),i=typeof b=="object"&&b;if(!f){e.data("combodate",(f=new d(this,i)))}if(typeof b=="string"&&typeof f[b]=="function"){f[b].apply(f,g)}})};c.fn.combodate.defaults={format:"DD-MM-YYYY HH:mm",template:"D / MMM / YYYY   H : mm",value:null,minYear:1970,maxYear:2015,yearDescending:true,minuteStep:5,secondStep:1,firstItem:"empty",errorClass:null,roundTime:true,smartDays:false}}(window.jQuery));(function(d){var c=function(a){this.init("combodate",a,c.defaults);if(!this.options.viewformat){this.options.viewformat=this.options.format}a.combodate=d.fn.editableutils.tryParseJson(a.combodate,true);this.options.combodate=d.extend({},c.defaults.combodate,a.combodate,{format:this.options.format,template:this.options.template})};d.fn.editableutils.inherit(c,d.fn.editabletypes.abstractinput);d.extend(c.prototype,{render:function(){this.$input.combodate(this.options.combodate);if(d.fn.editableform.engine==="bs3"){this.$input.siblings().find("select").addClass("form-control")}if(this.options.inputclass){this.$input.siblings().find("select").addClass(this.options.inputclass)}},value2html:function(b,f){var a=b?b.format(this.options.viewformat):"";c.superclass.value2html.call(this,a,f)},html2value:function(a){return a?moment(a,this.options.viewformat):null},value2str:function(a){return a?a.format(this.options.format):""},str2value:function(a){return a?moment(a,this.options.format):null},value2submit:function(a){return this.value2str(a)},value2input:function(a){this.$input.combodate("setValue",a)},input2value:function(){return this.$input.combodate("getValue",null)},activate:function(){this.$input.siblings(".combodate").find("select").eq(0).focus()},autosubmit:function(){}});c.defaults=d.extend({},d.fn.editabletypes.abstractinput.defaults,{tpl:'<input type="text">',inputclass:null,format:"YYYY-MM-DD",viewformat:null,template:"D / MMM / YYYY",combodate:null});d.fn.editabletypes.combodate=c}(window.jQuery));(function(c){var d=c.fn.editableform.Constructor.prototype.initInput;c.extend(c.fn.editableform.Constructor.prototype,{initTemplate:function(){this.$form=c(c.fn.editableform.template);this.$form.find(".control-group").addClass("form-group");this.$form.find(".editable-error-block").addClass("help-block")},initInput:function(){d.apply(this);var a=this.input.options.inputclass===null||this.input.options.inputclass===false;var l="input-sm";var k="text,select,textarea,password,email,url,tel,number,range,time,typeaheadjs".split(",");if(~c.inArray(this.input.type,k)){this.input.$input.addClass("form-control");if(a){this.input.options.inputclass=l;this.input.$input.addClass(l)}}var b=this.$form.find(".editable-buttons");var i=a?[l]:this.input.options.inputclass.split(" ");for(var j=0;j<i.length;j++){if(i[j].toLowerCase()==="input-lg"){b.find("button").removeClass("btn-sm").addClass("btn-lg")}}}});c.fn.editableform.buttons='<button type="submit" class="btn btn-primary btn-sm editable-submit"><i class="glyphicon glyphicon-ok"></i></button><button type="button" class="btn btn-default btn-sm editable-cancel"><i class="glyphicon glyphicon-remove"></i></button>';c.fn.editableform.errorGroupClass="has-error";c.fn.editableform.errorBlockClass=null;c.fn.editableform.engine="bs3"}(window.jQuery));(function(b){b.extend(b.fn.editableContainer.Popup.prototype,{containerName:"popover",containerDataName:"bs.popover",innerCss:".popover-content",defaults:b.fn.popover.Constructor.DEFAULTS,initContainer:function(){b.extend(this.containerOptions,{trigger:"manual",selector:false,content:" ",template:this.defaults.template});var a;if(this.$element.data("template")){a=this.$element.data("template");this.$element.removeData("template")}this.call(this.containerOptions);if(a){this.$element.data("template",a)}},innerShow:function(){this.call("show")},innerHide:function(){this.call("hide")},innerDestroy:function(){this.call("destroy")},setContainerOption:function(a,d){this.container().options[a]=d},setPosition:function(){(function(){var w=this.tip();var x=typeof this.options.placement=="function"?this.options.placement.call(this,w[0],this.$element[0]):this.options.placement;var p=/\s?auto?\s?/i;var a=p.test(x);if(a){x=x.replace(p,"")||"top"}var s=this.getPosition();var B=w[0].offsetWidth;var u=w[0].offsetHeight;if(a){var y=this.$element.parent();var z=x;var r=document.documentElement.scrollTop||document.body.scrollTop;var q=this.options.container=="body"?window.innerWidth:y.outerWidth();var t=this.options.container=="body"?window.innerHeight:y.outerHeight();var v=this.options.container=="body"?0:y.offset().left;x=x=="bottom"&&s.top+s.height+u-r>t?"top":x=="top"&&s.top-r-u<0?"bottom":x=="right"&&s.right+B>q?"left":x=="left"&&s.left-B<v?"right":x;w.removeClass(z).addClass(x)}var A=this.getCalculatedOffset(x,s,B,u);this.applyPlacement(A,x)}).call(this.container())}})}(window.jQuery));(function(t){function p(){return new Date(Date.UTC.apply(Date,arguments))}function w(){var a=new Date();return p(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate())}var s=function(b,c){var a=this;this._process_options(c);this.element=t(b);this.isInline=false;this.isInput=this.element.is("input");this.component=this.element.is(".date")?this.element.find(".add-on, .btn"):false;this.hasInput=this.component&&this.element.find("input").length;if(this.component&&this.component.length===0){this.component=false}this.picker=t(r.template);this._buildEvents();this._attachEvents();if(this.isInline){this.picker.addClass("datepicker-inline").appendTo(this.element)}else{this.picker.addClass("datepicker-dropdown dropdown-menu")}if(this.o.rtl){this.picker.addClass("datepicker-rtl");this.picker.find(".prev i, .next i").toggleClass("icon-arrow-left icon-arrow-right")}this.viewMode=this.o.startView;if(this.o.calendarWeeks){this.picker.find("tfoot th.today").attr("colspan",function(e,d){return parseInt(d)+1})}this._allow_update=false;this.setStartDate(this.o.startDate);this.setEndDate(this.o.endDate);this.setDaysOfWeekDisabled(this.o.daysOfWeekDisabled);this.fillDow();this.fillMonths();this._allow_update=true;this.update();this.showMode();if(this.isInline){this.show()}};s.prototype={constructor:s,_process_options:function(d){this._o=t.extend({},this._o,d);var a=this.o=t.extend({},this._o);var b=a.language;if(!y[b]){b=b.split("-")[0];if(!y[b]){b=v.language}}a.language=b;switch(a.startView){case 2:case"decade":a.startView=2;break;case 1:case"year":a.startView=1;break;default:a.startView=0}switch(a.minViewMode){case 1:case"months":a.minViewMode=1;break;case 2:case"years":a.minViewMode=2;break;default:a.minViewMode=0}a.startView=Math.max(a.startView,a.minViewMode);a.weekStart%=7;a.weekEnd=((a.weekStart+6)%7);var c=r.parseFormat(a.format);if(a.startDate!==-Infinity){a.startDate=r.parseDate(a.startDate,c,a.language)}if(a.endDate!==Infinity){a.endDate=r.parseDate(a.endDate,c,a.language)}a.daysOfWeekDisabled=a.daysOfWeekDisabled||[];if(!t.isArray(a.daysOfWeekDisabled)){a.daysOfWeekDisabled=a.daysOfWeekDisabled.split(/[,\s]*/)}a.daysOfWeekDisabled=t.map(a.daysOfWeekDisabled,function(e){return parseInt(e,10)})},_events:[],_secondaryEvents:[],_applyEvents:function(d){for(var c=0,b,a;c<d.length;c++){b=d[c][0];a=d[c][1];b.on(a)}},_unapplyEvents:function(d){for(var c=0,b,a;c<d.length;c++){b=d[c][0];a=d[c][1];b.off(a)}},_buildEvents:function(){if(this.isInput){this._events=[[this.element,{focus:t.proxy(this.show,this),keyup:t.proxy(this.update,this),keydown:t.proxy(this.keydown,this)}]]}else{if(this.component&&this.hasInput){this._events=[[this.element.find("input"),{focus:t.proxy(this.show,this),keyup:t.proxy(this.update,this),keydown:t.proxy(this.keydown,this)}],[this.component,{click:t.proxy(this.show,this)}]]}else{if(this.element.is("div")){this.isInline=true}else{this._events=[[this.element,{click:t.proxy(this.show,this)}]]}}}this._secondaryEvents=[[this.picker,{click:t.proxy(this.click,this)}],[t(window),{resize:t.proxy(this.place,this)}],[t(document),{mousedown:t.proxy(function(a){if(!(this.element.is(a.target)||this.element.find(a.target).size()||this.picker.is(a.target)||this.picker.find(a.target).size())){this.hide()}},this)}]]},_attachEvents:function(){this._detachEvents();this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents();this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(b,a){var c=a||this.date,d=new Date(c.getTime()+(c.getTimezoneOffset()*60000));this.element.trigger({type:b,date:d,format:t.proxy(function(e){var f=e||this.o.format;return r.formatDate(c,f,this.o.language)},this)})},show:function(a){if(!this.isInline){this.picker.appendTo("body")}this.picker.show();this.height=this.component?this.component.outerHeight():this.element.outerHeight();this.place();this._attachSecondaryEvents();if(a){a.preventDefault()}this._trigger("show")},hide:function(a){if(this.isInline){return}if(!this.picker.is(":visible")){return}this.picker.hide().detach();this._detachSecondaryEvents();this.viewMode=this.o.startView;this.showMode();if(this.o.forceParse&&(this.isInput&&this.element.val()||this.hasInput&&this.element.find("input").val())){this.setValue()}this._trigger("hide")},remove:function(){this.hide();this._detachEvents();this._detachSecondaryEvents();this.picker.remove();delete this.element.data().datepicker;if(!this.isInput){delete this.element.data().date}},getDate:function(){var a=this.getUTCDate();return new Date(a.getTime()+(a.getTimezoneOffset()*60000))},getUTCDate:function(){return this.date},setDate:function(a){this.setUTCDate(new Date(a.getTime()-(a.getTimezoneOffset()*60000)))},setUTCDate:function(a){this.date=a;this.setValue()},setValue:function(){var a=this.getFormattedDate();if(!this.isInput){if(this.component){this.element.find("input").val(a)}}else{this.element.val(a)}},getFormattedDate:function(a){if(a===undefined){a=this.o.format}return r.formatDate(this.date,a,this.o.language)},setStartDate:function(a){this._process_options({startDate:a});this.update();this.updateNavArrows()},setEndDate:function(a){this._process_options({endDate:a});this.update();this.updateNavArrows()},setDaysOfWeekDisabled:function(a){this._process_options({daysOfWeekDisabled:a});this.update();this.updateNavArrows()},place:function(){if(this.isInline){return}var a=parseInt(this.element.parents().filter(function(){return t(this).css("z-index")!="auto"}).first().css("z-index"))+10;var b=this.component?this.component.parent().offset():this.element.offset();var c=this.component?this.component.outerHeight(true):this.element.outerHeight(true);this.picker.css({top:b.top+c,left:b.left,zIndex:a})},_allow_update:true,update:function(){if(!this._allow_update){return}var b,a=false;if(arguments&&arguments.length&&(typeof arguments[0]==="string"||arguments[0] instanceof Date)){b=arguments[0];a=true}else{b=this.isInput?this.element.val():this.element.data("date")||this.element.find("input").val();delete this.element.data().date}this.date=r.parseDate(b,this.o.format,this.o.language);if(a){this.setValue()}if(this.date<this.o.startDate){this.viewDate=new Date(this.o.startDate)}else{if(this.date>this.o.endDate){this.viewDate=new Date(this.o.endDate)}else{this.viewDate=new Date(this.date)}}this.fill()},fillDow:function(){var b=this.o.weekStart,a="<tr>";if(this.o.calendarWeeks){var c='<th class="cw">&nbsp;</th>';a+=c;this.picker.find(".datepicker-days thead tr:first-child").prepend(c)}while(b<this.o.weekStart+7){a+='<th class="dow">'+y[this.o.language].daysMin[(b++)%7]+"</th>"}a+="</tr>";this.picker.find(".datepicker-days thead").append(a)},fillMonths:function(){var a="",b=0;while(b<12){a+='<span class="month">'+y[this.o.language].monthsShort[b++]+"</span>"}this.picker.find(".datepicker-months td").html(a)},setRange:function(a){if(!a||!a.length){delete this.range}else{this.range=t.map(a,function(b){return b.valueOf()})}this.fill()},getClassNames:function(c){var e=[],b=this.viewDate.getUTCFullYear(),a=this.viewDate.getUTCMonth(),f=this.date.valueOf(),d=new Date();if(c.getUTCFullYear()<b||(c.getUTCFullYear()==b&&c.getUTCMonth()<a)){e.push("old")}else{if(c.getUTCFullYear()>b||(c.getUTCFullYear()==b&&c.getUTCMonth()>a)){e.push("new")}}if(this.o.todayHighlight&&c.getUTCFullYear()==d.getFullYear()&&c.getUTCMonth()==d.getMonth()&&c.getUTCDate()==d.getDate()){e.push("today")}if(f&&c.valueOf()==f){e.push("active")}if(c.valueOf()<this.o.startDate||c.valueOf()>this.o.endDate||t.inArray(c.getUTCDay(),this.o.daysOfWeekDisabled)!==-1){e.push("disabled")}if(this.range){if(c>this.range[0]&&c<this.range[this.range.length-1]){e.push("range")}if(t.inArray(c.valueOf(),this.range)!=-1){e.push("selected")}}return e},fill:function(){var j=new Date(this.viewDate),g=j.getUTCFullYear(),h=j.getUTCMonth(),Q=this.o.startDate!==-Infinity?this.o.startDate.getUTCFullYear():-Infinity,l=this.o.startDate!==-Infinity?this.o.startDate.getUTCMonth():-Infinity,m=this.o.endDate!==Infinity?this.o.endDate.getUTCFullYear():Infinity,O=this.o.endDate!==Infinity?this.o.endDate.getUTCMonth():Infinity,k=this.date&&this.date.valueOf(),P;this.picker.find(".datepicker-days thead th.datepicker-switch").text(y[this.o.language].months[h]+" "+g);this.picker.find("tfoot th.today").text(y[this.o.language].today).toggle(this.o.todayBtn!==false);this.picker.find("tfoot th.clear").text(y[this.o.language].clear).toggle(this.o.clearBtn!==false);this.updateNavArrows();this.fillMonths();var e=p(g,h-1,28,0,0,0,0),L=r.getDaysInMonth(e.getUTCFullYear(),e.getUTCMonth());e.setUTCDate(L);e.setUTCDate(L-(e.getUTCDay()-this.o.weekStart+7)%7);var T=new Date(e);T.setUTCDate(T.getUTCDate()+42);T=T.valueOf();var i=[];var a;while(e.valueOf()<T){if(e.getUTCDay()==this.o.weekStart){i.push("<tr>");if(this.o.calendarWeeks){var S=new Date(+e+(this.o.weekStart-e.getUTCDay()-7)%7*86400000),N=new Date(+S+(7+4-S.getUTCDay())%7*86400000),R=new Date(+(R=p(N.getUTCFullYear(),0,1))+(7+4-R.getUTCDay())%7*86400000),d=(N-R)/86400000/7+1;i.push('<td class="cw">'+d+"</td>")}}a=this.getClassNames(e);a.push("day");var c=this.o.beforeShowDay(e);if(c===undefined){c={}}else{if(typeof(c)==="boolean"){c={enabled:c}}else{if(typeof(c)==="string"){c={classes:c}}}}if(c.enabled===false){a.push("disabled")}if(c.classes){a=a.concat(c.classes.split(/\s+/))}if(c.tooltip){P=c.tooltip}a=t.unique(a);i.push('<td class="'+a.join(" ")+'"'+(P?' title="'+P+'"':"")+">"+e.getUTCDate()+"</td>");if(e.getUTCDay()==this.o.weekEnd){i.push("</tr>")}e.setUTCDate(e.getUTCDate()+1)}this.picker.find(".datepicker-days tbody").empty().append(i.join(""));var b=this.date&&this.date.getUTCFullYear();var K=this.picker.find(".datepicker-months").find("th:eq(1)").text(g).end().find("span").removeClass("active");if(b&&b==g){K.eq(this.date.getUTCMonth()).addClass("active")}if(g<Q||g>m){K.addClass("disabled")}if(g==Q){K.slice(0,l).addClass("disabled")}if(g==m){K.slice(O+1).addClass("disabled")}i="";g=parseInt(g/10,10)*10;var f=this.picker.find(".datepicker-years").find("th:eq(1)").text(g+"-"+(g+9)).end().find("td");g-=1;for(var M=-1;M<11;M++){i+='<span class="year'+(M==-1?" old":M==10?" new":"")+(b==g?" active":"")+(g<Q||g>m?" disabled":"")+'">'+g+"</span>";g+=1}f.html(i)},updateNavArrows:function(){if(!this._allow_update){return}var a=new Date(this.viewDate),c=a.getUTCFullYear(),b=a.getUTCMonth();switch(this.viewMode){case 0:if(this.o.startDate!==-Infinity&&c<=this.o.startDate.getUTCFullYear()&&b<=this.o.startDate.getUTCMonth()){this.picker.find(".prev").css({visibility:"hidden"})}else{this.picker.find(".prev").css({visibility:"visible"})}if(this.o.endDate!==Infinity&&c>=this.o.endDate.getUTCFullYear()&&b>=this.o.endDate.getUTCMonth()){this.picker.find(".next").css({visibility:"hidden"})}else{this.picker.find(".next").css({visibility:"visible"})}break;case 1:case 2:if(this.o.startDate!==-Infinity&&c<=this.o.startDate.getUTCFullYear()){this.picker.find(".prev").css({visibility:"hidden"})}else{this.picker.find(".prev").css({visibility:"visible"})}if(this.o.endDate!==Infinity&&c>=this.o.endDate.getUTCFullYear()){this.picker.find(".next").css({visibility:"hidden"})}else{this.picker.find(".next").css({visibility:"visible"})}break}},click:function(a){a.preventDefault();var i=t(a.target).closest("span, td, th");if(i.length==1){switch(i[0].nodeName.toLowerCase()){case"th":switch(i[0].className){case"datepicker-switch":this.showMode(1);break;case"prev":case"next":var e=r.modes[this.viewMode].navStep*(i[0].className=="prev"?-1:1);switch(this.viewMode){case 0:this.viewDate=this.moveMonth(this.viewDate,e);break;case 1:case 2:this.viewDate=this.moveYear(this.viewDate,e);break}this.fill();break;case"today":var d=new Date();d=p(d.getFullYear(),d.getMonth(),d.getDate(),0,0,0);this.showMode(-2);var c=this.o.todayBtn=="linked"?null:"view";this._setDate(d,c);break;case"clear":var b;if(this.isInput){b=this.element}else{if(this.component){b=this.element.find("input")}}if(b){b.val("").change()}this._trigger("changeDate");this.update();if(this.o.autoclose){this.hide()}break}break;case"span":if(!i.is(".disabled")){this.viewDate.setUTCDate(1);if(i.is(".month")){var f=1;var h=i.parent().find("span").index(i);var g=this.viewDate.getUTCFullYear();this.viewDate.setUTCMonth(h);this._trigger("changeMonth",this.viewDate);if(this.o.minViewMode===1){this._setDate(p(g,h,f,0,0,0,0))}}else{var g=parseInt(i.text(),10)||0;var f=1;var h=0;this.viewDate.setUTCFullYear(g);this._trigger("changeYear",this.viewDate);if(this.o.minViewMode===2){this._setDate(p(g,h,f,0,0,0,0))}}this.showMode(-1);this.fill()}break;case"td":if(i.is(".day")&&!i.is(".disabled")){var f=parseInt(i.text(),10)||1;var g=this.viewDate.getUTCFullYear(),h=this.viewDate.getUTCMonth();if(i.is(".old")){if(h===0){h=11;g-=1}else{h-=1}}else{if(i.is(".new")){if(h==11){h=0;g+=1}else{h+=1}}}this._setDate(p(g,h,f,0,0,0,0))}break}}},_setDate:function(c,a){if(!a||a=="date"){this.date=new Date(c)}if(!a||a=="view"){this.viewDate=new Date(c)}this.fill();this.setValue();this._trigger("changeDate");var b;if(this.isInput){b=this.element}else{if(this.component){b=this.element.find("input")}}if(b){b.change();if(this.o.autoclose&&(!a||a=="date")){this.hide()}}},moveMonth:function(e,d){if(!d){return e}var a=new Date(e.valueOf()),f=a.getUTCDate(),i=a.getUTCMonth(),b=Math.abs(d),g,h;d=d>0?1:-1;if(b==1){h=d==-1?function(){return a.getUTCMonth()==i}:function(){return a.getUTCMonth()!=g};g=i+d;a.setUTCMonth(g);if(g<0||g>11){g=(g+12)%12}}else{for(var c=0;c<b;c++){a=this.moveMonth(a,d)}g=a.getUTCMonth();a.setUTCDate(f);h=function(){return g!=a.getUTCMonth()}}while(h()){a.setUTCDate(--f);a.setUTCMonth(g)}return a},moveYear:function(a,b){return this.moveMonth(a,b*12)},dateWithinRange:function(a){return a>=this.o.startDate&&a<=this.o.endDate},keydown:function(a){if(this.picker.is(":not(:visible)")){if(a.keyCode==27){this.show()}return}var e=false,f,g,b,h,c;switch(a.keyCode){case 27:this.hide();a.preventDefault();break;case 37:case 39:if(!this.o.keyboardNavigation){break}f=a.keyCode==37?-1:1;if(a.ctrlKey){h=this.moveYear(this.date,f);c=this.moveYear(this.viewDate,f)}else{if(a.shiftKey){h=this.moveMonth(this.date,f);c=this.moveMonth(this.viewDate,f)}else{h=new Date(this.date);h.setUTCDate(this.date.getUTCDate()+f);c=new Date(this.viewDate);c.setUTCDate(this.viewDate.getUTCDate()+f)}}if(this.dateWithinRange(h)){this.date=h;this.viewDate=c;this.setValue();this.update();a.preventDefault();e=true}break;case 38:case 40:if(!this.o.keyboardNavigation){break}f=a.keyCode==38?-1:1;if(a.ctrlKey){h=this.moveYear(this.date,f);c=this.moveYear(this.viewDate,f)}else{if(a.shiftKey){h=this.moveMonth(this.date,f);c=this.moveMonth(this.viewDate,f)}else{h=new Date(this.date);h.setUTCDate(this.date.getUTCDate()+f*7);c=new Date(this.viewDate);c.setUTCDate(this.viewDate.getUTCDate()+f*7)}}if(this.dateWithinRange(h)){this.date=h;this.viewDate=c;this.setValue();this.update();a.preventDefault();e=true}break;case 13:this.hide();a.preventDefault();break;case 9:this.hide();break}if(e){this._trigger("changeDate");var d;if(this.isInput){d=this.element}else{if(this.component){d=this.element.find("input")}}if(d){d.change()}}},showMode:function(a){if(a){this.viewMode=Math.max(this.o.minViewMode,Math.min(2,this.viewMode+a))}this.picker.find(">div").hide().filter(".datepicker-"+r.modes[this.viewMode].clsName).css("display","block");this.updateNavArrows()}};var n=function(a,b){this.element=t(a);this.inputs=t.map(b.inputs,function(c){return c.jquery?c[0]:c});delete b.inputs;t(this.inputs).datepicker(b).bind("changeDate",t.proxy(this.dateUpdated,this));this.pickers=t.map(this.inputs,function(c){return t(c).data("datepicker")});this.updateDates()};n.prototype={updateDates:function(){this.dates=t.map(this.pickers,function(a){return a.date});this.updateRanges()},updateRanges:function(){var a=t.map(this.dates,function(b){return b.valueOf()});t.each(this.pickers,function(c,b){b.setRange(a)})},dateUpdated:function(b){var a=t(b.target).data("datepicker"),c=a.getUTCDate(),d=t.inArray(b.target,this.inputs),e=this.inputs.length;if(d==-1){return}if(c<this.dates[d]){while(d>=0&&c<this.dates[d]){this.pickers[d--].setUTCDate(c)}}else{if(c>this.dates[d]){while(d<e&&c>this.dates[d]){this.pickers[d++].setUTCDate(c)}}}this.updateDates()},remove:function(){t.map(this.pickers,function(a){a.remove()});delete this.element.data().datepicker}};function u(d,a){var b=t(d).data(),g={},c,e=new RegExp("^"+a.toLowerCase()+"([A-Z])"),a=new RegExp("^"+a.toLowerCase());for(var f in b){if(a.test(f)){c=f.replace(e,function(h,i){return i.toLowerCase()});g[c]=b[f]}}return g}function z(a){var c={};if(!y[a]){a=a.split("-")[0];if(!y[a]){return}}var b=y[a];t.each(o,function(d,e){if(e in b){c[e]=b[e]}});return c}var x=t.fn.datepicker;var q=t.fn.datepicker=function(a){var c=Array.apply(null,arguments);c.shift();var b,d;this.each(function(){var l=t(this),f=l.data("datepicker"),j=typeof a=="object"&&a;if(!f){var h=u(this,"date"),k=t.extend({},v,h,j),i=z(k.language),g=t.extend({},v,i,h,j);if(l.is(".input-daterange")||g.inputs){var e={inputs:g.inputs||l.find("input").toArray()};l.data("datepicker",(f=new n(this,t.extend(g,e))))}else{l.data("datepicker",(f=new s(this,g)))}}if(typeof a=="string"&&typeof f[a]=="function"){b=f[a].apply(f,c);if(b!==undefined){return false}}});if(b!==undefined){return b}else{return this}};var v=t.fn.datepicker.defaults={autoclose:false,beforeShowDay:t.noop,calendarWeeks:false,clearBtn:false,daysOfWeekDisabled:[],endDate:Infinity,forceParse:true,format:"mm/dd/yyyy",keyboardNavigation:true,language:"en",minViewMode:0,rtl:false,startDate:-Infinity,startView:0,todayBtn:false,todayHighlight:false,weekStart:0};var o=t.fn.datepicker.locale_opts=["format","rtl","weekStart"];t.fn.datepicker.Constructor=s;var y=t.fn.datepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear"}};var r={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],isLeapYear:function(a){return(((a%4===0)&&(a%100!==0))||(a%400===0))},getDaysInMonth:function(b,a){return[31,(r.isLeapYear(b)?29:28),31,30,31,30,31,31,30,31,30,31][a]},validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\[\u3400-\u9fff-`{-~\t\n\r]+/g,parseFormat:function(a){var c=a.replace(this.validParts,"\0").split("\0"),b=a.match(this.validParts);if(!c||!c.length||!b||b.length===0){throw new Error("Invalid date format.")}return{separators:c,parts:b}},parseDate:function(d,h,F){if(d instanceof Date){return d}if(typeof h==="string"){h=r.parseFormat(h)}if(/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(d)){var c=/([\-+]\d+)([dmwy])/,G=d.match(/([\-+]\d+)([dmwy])/g),i,b;d=new Date();for(var E=0;E<G.length;E++){i=c.exec(G[E]);b=parseInt(i[1]);switch(i[2]){case"d":d.setUTCDate(d.getUTCDate()+b);break;case"m":d=s.prototype.moveMonth.call(s.prototype,d,b);break;case"w":d.setUTCDate(d.getUTCDate()+b*7);break;case"y":d=s.prototype.moveYear.call(s.prototype,d,b);break}}return p(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate(),0,0,0)}var G=d&&d.match(this.nonpunctuation)||[],d=new Date(),k={},j=["yyyy","yy","M","MM","m","mm","d","dd"],f={yyyy:function(B,A){return B.setUTCFullYear(A)},yy:function(B,A){return B.setUTCFullYear(2000+A)},m:function(B,A){A-=1;while(A<0){A+=12}A%=12;B.setUTCMonth(A);while(B.getUTCMonth()!=A){B.setUTCDate(B.getUTCDate()-1)}return B},d:function(B,A){return B.setUTCDate(A)}},e,m,i;f.M=f.MM=f.mm=f.m;f.dd=f.d;d=p(d.getFullYear(),d.getMonth(),d.getDate(),0,0,0);var l=h.parts.slice();if(G.length!=l.length){l=t(l).filter(function(A,B){return t.inArray(B,j)!==-1}).toArray()}if(G.length==l.length){for(var E=0,g=l.length;E<g;E++){e=parseInt(G[E],10);i=l[E];if(isNaN(e)){switch(i){case"MM":m=t(y[F].months).filter(function(){var A=this.slice(0,G[E].length),B=G[E].slice(0,A.length);return A==B});e=t.inArray(m[0],y[F].months)+1;break;case"M":m=t(y[F].monthsShort).filter(function(){var A=this.slice(0,G[E].length),B=G[E].slice(0,A.length);return A==B});e=t.inArray(m[0],y[F].monthsShort)+1;break}}k[i]=e}for(var E=0,a;E<j.length;E++){a=j[E];if(a in k&&!isNaN(k[a])){f[a](d,k[a])}}}return d},formatDate:function(g,c,a){if(typeof c==="string"){c=r.parseFormat(c)}var b={d:g.getUTCDate(),D:y[a].daysShort[g.getUTCDay()],DD:y[a].days[g.getUTCDay()],m:g.getUTCMonth()+1,M:y[a].monthsShort[g.getUTCMonth()],MM:y[a].months[g.getUTCMonth()],yy:g.getUTCFullYear().toString().substring(2),yyyy:g.getUTCFullYear()};b.dd=(b.d<10?"0":"")+b.d;b.mm=(b.m<10?"0":"")+b.m;var g=[],d=t.extend([],c.separators);for(var e=0,f=c.parts.length;e<=f;e++){if(d.length){g.push(d.shift())}g.push(b[c.parts[e]])}return g.join("")},headTemplate:'<thead><tr><th class="prev"><i class="icon-arrow-left"/></th><th colspan="5" class="datepicker-switch"></th><th class="next"><i class="icon-arrow-right"/></th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'};r.template='<div class="datepicker"><div class="datepicker-days"><table class=" table-condensed">'+r.headTemplate+"<tbody></tbody>"+r.footTemplate+'</table></div><div class="datepicker-months"><table class="table-condensed">'+r.headTemplate+r.contTemplate+r.footTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+r.headTemplate+r.contTemplate+r.footTemplate+"</table></div></div>";t.fn.datepicker.DPGlobal=r;t.fn.datepicker.noConflict=function(){t.fn.datepicker=x;return this};t(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide="datepicker"]',function(a){var b=t(this);if(b.data("datepicker")){return}a.preventDefault();q.call(b,"show")});t(function(){q.call(t('[data-provide="datepicker-inline"]'))})}(window.jQuery));(function(c){c.fn.bdatepicker=c.fn.datepicker.noConflict();if(!c.fn.datepicker){c.fn.datepicker=c.fn.bdatepicker}var d=function(a){this.init("date",a,d.defaults);this.initPicker(a,d.defaults)};c.fn.editableutils.inherit(d,c.fn.editabletypes.abstractinput);c.extend(d.prototype,{initPicker:function(b,a){if(!this.options.viewformat){this.options.viewformat=this.options.format}b.datepicker=c.fn.editableutils.tryParseJson(b.datepicker,true);this.options.datepicker=c.extend({},a.datepicker,b.datepicker,{format:this.options.viewformat});this.options.datepicker.language=this.options.datepicker.language||"en";this.dpg=c.fn.bdatepicker.DPGlobal;this.parsedFormat=this.dpg.parseFormat(this.options.format);this.parsedViewFormat=this.dpg.parseFormat(this.options.viewformat)},render:function(){this.$input.bdatepicker(this.options.datepicker);if(this.options.clear){this.$clear=c('<a href="#"></a>').html(this.options.clear).click(c.proxy(function(a){a.preventDefault();a.stopPropagation();this.clear()},this));this.$tpl.parent().append(c('<div class="editable-clear">').append(this.$clear))}},value2html:function(b,f){var a=b?this.dpg.formatDate(b,this.parsedViewFormat,this.options.datepicker.language):"";d.superclass.value2html.call(this,a,f)},html2value:function(a){return this.parseDate(a,this.parsedViewFormat)},value2str:function(a){return a?this.dpg.formatDate(a,this.parsedFormat,this.options.datepicker.language):""},str2value:function(a){return this.parseDate(a,this.parsedFormat)},value2submit:function(a){return this.value2str(a)},value2input:function(a){this.$input.bdatepicker("update",a)},input2value:function(){return this.$input.data("datepicker").date},activate:function(){},clear:function(){this.$input.data("datepicker").date=null;this.$input.find(".active").removeClass("active");if(!this.options.showbuttons){this.$input.closest("form").submit()}},autosubmit:function(){this.$input.on("mouseup",".day",function(a){if(c(a.currentTarget).is(".old")||c(a.currentTarget).is(".new")){return}var b=c(this).closest("form");setTimeout(function(){b.submit()},200)})},parseDate:function(a,g){var h=null,b;if(a){h=this.dpg.parseDate(a,g,this.options.datepicker.language);if(typeof a==="string"){b=this.dpg.formatDate(h,g,this.options.datepicker.language);if(a!==b){h=null}}}return h}});d.defaults=c.extend({},c.fn.editabletypes.abstractinput.defaults,{tpl:'<div class="editable-date well"></div>',inputclass:null,format:"yyyy-mm-dd",viewformat:null,datepicker:{weekStart:0,startView:0,minViewMode:0,autoclose:false},clear:"&times; clear"});c.fn.editabletypes.date=d}(window.jQuery));(function(c){var d=function(a){this.init("datefield",a,d.defaults);this.initPicker(a,d.defaults)};c.fn.editableutils.inherit(d,c.fn.editabletypes.date);c.extend(d.prototype,{render:function(){this.$input=this.$tpl.find("input");this.setClass();this.setAttr("placeholder");this.$tpl.bdatepicker(this.options.datepicker);this.$input.off("focus keydown");this.$input.keyup(c.proxy(function(){this.$tpl.removeData("date");this.$tpl.bdatepicker("update")},this))},value2input:function(a){this.$input.val(a?this.dpg.formatDate(a,this.parsedViewFormat,this.options.datepicker.language):"");this.$tpl.bdatepicker("update")},input2value:function(){return this.html2value(this.$input.val())},activate:function(){c.fn.editabletypes.text.prototype.activate.call(this)},autosubmit:function(){}});d.defaults=c.extend({},c.fn.editabletypes.date.defaults,{tpl:'<div class="input-append date"><input type="text"/><span class="add-on"><i class="icon-th"></i></span></div>',inputclass:"input-small",datepicker:{weekStart:0,startView:0,minViewMode:0,autoclose:true}});c.fn.editabletypes.datefield=d}(window.jQuery));(function(d){var c=function(a){this.init("datetime",a,c.defaults);this.initPicker(a,c.defaults)};d.fn.editableutils.inherit(c,d.fn.editabletypes.abstractinput);d.extend(c.prototype,{initPicker:function(b,a){if(!this.options.viewformat){this.options.viewformat=this.options.format}b.datetimepicker=d.fn.editableutils.tryParseJson(b.datetimepicker,true);this.options.datetimepicker=d.extend({},a.datetimepicker,b.datetimepicker,{format:this.options.viewformat});this.options.datetimepicker.language=this.options.datetimepicker.language||"en";this.dpg=d.fn.datetimepicker.DPGlobal;this.parsedFormat=this.dpg.parseFormat(this.options.format,this.options.formatType);this.parsedViewFormat=this.dpg.parseFormat(this.options.viewformat,this.options.formatType)},render:function(){this.$input.datetimepicker(this.options.datetimepicker);this.$input.on("changeMode",function(a){var b=d(this).closest("form").parent();setTimeout(function(){b.triggerHandler("resize")},0)});if(this.options.clear){this.$clear=d('<a href="#"></a>').html(this.options.clear).click(d.proxy(function(a){a.preventDefault();a.stopPropagation();this.clear()},this));this.$tpl.parent().append(d('<div class="editable-clear">').append(this.$clear))}},value2html:function(b,f){var a=b?this.dpg.formatDate(this.toUTC(b),this.parsedViewFormat,this.options.datetimepicker.language,this.options.formatType):"";if(f){c.superclass.value2html.call(this,a,f)}else{return a}},html2value:function(b){var a=this.parseDate(b,this.parsedViewFormat);return a?this.fromUTC(a):null},value2str:function(a){return a?this.dpg.formatDate(this.toUTC(a),this.parsedFormat,this.options.datetimepicker.language,this.options.formatType):""},str2value:function(a){var b=this.parseDate(a,this.parsedFormat);return b?this.fromUTC(b):null},value2submit:function(a){return this.value2str(a)},value2input:function(a){if(a){this.$input.data("datetimepicker").setDate(a)}},input2value:function(){var a=this.$input.data("datetimepicker");return a.date?a.getDate():null},activate:function(){},clear:function(){this.$input.data("datetimepicker").date=null;this.$input.find(".active").removeClass("active");if(!this.options.showbuttons){this.$input.closest("form").submit()}},autosubmit:function(){this.$input.on("mouseup",".minute",function(a){var b=d(this).closest("form");setTimeout(function(){b.submit()},200)})},toUTC:function(a){return a?new Date(a.valueOf()-a.getTimezoneOffset()*60000):a},fromUTC:function(a){return a?new Date(a.valueOf()+a.getTimezoneOffset()*60000):a},parseDate:function(a,g){var h=null,b;if(a){h=this.dpg.parseDate(a,g,this.options.datetimepicker.language,this.options.formatType);if(typeof a==="string"){b=this.dpg.formatDate(h,g,this.options.datetimepicker.language,this.options.formatType);if(a!==b){h=null}}}return h}});c.defaults=d.extend({},d.fn.editabletypes.abstractinput.defaults,{tpl:'<div class="editable-date well"></div>',inputclass:null,format:"yyyy-mm-dd hh:ii",formatType:"standard",viewformat:null,datetimepicker:{todayHighlight:false,autoclose:false},clear:"&times; clear"});d.fn.editabletypes.datetime=c}(window.jQuery));(function(c){var d=function(a){this.init("datetimefield",a,d.defaults);this.initPicker(a,d.defaults)};c.fn.editableutils.inherit(d,c.fn.editabletypes.datetime);c.extend(d.prototype,{render:function(){this.$input=this.$tpl.find("input");this.setClass();this.setAttr("placeholder");this.$tpl.datetimepicker(this.options.datetimepicker);this.$input.off("focus keydown");this.$input.keyup(c.proxy(function(){this.$tpl.removeData("date");this.$tpl.datetimepicker("update")},this))},value2input:function(a){this.$input.val(this.value2html(a));this.$tpl.datetimepicker("update")},input2value:function(){return this.html2value(this.$input.val())},activate:function(){c.fn.editabletypes.text.prototype.activate.call(this)},autosubmit:function(){}});d.defaults=c.extend({},c.fn.editabletypes.datetime.defaults,{tpl:'<div class="input-append date"><input type="text"/><span class="add-on"><i class="icon-th"></i></span></div>',inputclass:"input-medium",datetimepicker:{todayHighlight:false,autoclose:true}});c.fn.editabletypes.datetimefield=d}(window.jQuery));